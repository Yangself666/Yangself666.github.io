---
title: C++é€šè®¯å½•ç®¡ç†ç³»ç»Ÿ
author: Yangself
date: 2022-07-27 17:28:00 +0800
categories: [å­¦ä¹ , C++]
tags: [C++]
---

## ç³»ç»Ÿéœ€æ±‚

é€šè®¯å½•æ˜¯ä¸€ä¸ªå¯ä»¥è®°å½•äº²äººã€å¥½å‹ä¿¡æ¯çš„å·¥å…·ã€‚

æœ¬æ•™ç¨‹ä¸»è¦åˆ©ç”¨C++æ¥å®ç°ä¸€ä¸ªé€šè®¯å½•ç®¡ç†ç³»ç»Ÿ

ç³»ç»Ÿä¸­éœ€è¦å®ç°çš„åŠŸèƒ½å¦‚ä¸‹ï¼š

- æ·»åŠ è”ç³»äººï¼šå‘é€šè®¯å½•ä¸­æ·»åŠ ä¿¡ä»»ï¼Œä¿¡æ¯åŒ…æ‹¬ï¼ˆå§“åã€æ€§åˆ«ã€å¹´é¾„ã€è”ç³»ç”µè¯ã€å®¶åº­ä½å€ï¼‰æœ€å¤šè®°å½•1000äºº
- æ˜¾ç¤ºè”ç³»äººï¼šæ˜¾ç¤ºé€šè®¯å½•ä¸­æ‰€æœ‰è”ç³»äººä¿¡æ¯
- åˆ é™¤è”ç³»äººï¼šæŒ‰ç…§å§“åè¿›è¡Œåˆ é™¤æŒ‡å®šè”ç³»äºº
- æŸ¥æ‰¾è”ç³»äººï¼šæŒ‰ç…§å§“åæŸ¥çœ‹æŒ‡å®šè”ç³»äºº
- ä¿®æ”¹è”ç³»äººï¼šæŒ‰ç…§å§“åé‡æ–°ä¿®æ”¹æŒ‡å®šè”ç³»äºº
- æ¸…ç©ºè”ç³»äººï¼šæ¸…ç©ºé€šè®¯å½•ä¸­æ‰€æœ‰ä¿¡æ¯
- é€€å‡ºé€šè®¯å½•ï¼šé€€å‡ºå½“å‰ä½¿ç”¨çš„é€šè®¯å½•

## åˆ›å»ºé¡¹ç›®

åˆ›å»ºé¡¹ç›®æ­¥éª¤å¦‚ä¸‹ï¼š

- åˆ›å»ºæ–°é¡¹ç›®
- æ·»åŠ æ–‡ä»¶

## èœå•åŠŸèƒ½

**åŠŸèƒ½æè¿°ï¼š**ç”¨æˆ·é€‰æ‹©åŠŸèƒ½çš„ç•Œé¢

<!-- more -->

æ­¥éª¤ï¼š

- å°è£…å‡½æ•°æ˜¾ç¤ºè¯¥ç•Œé¢ å¦‚ `void showMenu()`
- åœ¨main()å‡½æ•°ä¸­è°ƒç”¨å°è£…å¥½çš„å‡½æ•°

```c++
void showMenu(){
    std::cout << "*************************" << std::endl;
    std::cout << "*****  1. æ·»åŠ è”ç³»äºº  *****" << std::endl;
    std::cout << "*****  2. æ˜¾ç¤ºè”ç³»äºº  *****" << std::endl;
    std::cout << "*****  3. åˆ é™¤è”ç³»äºº  *****" << std::endl;
    std::cout << "*****  4. æŸ¥æ‰¾è”ç³»äºº  *****" << std::endl;
    std::cout << "*****  5. ä¿®æ”¹è”ç³»äºº  *****" << std::endl;
    std::cout << "*****  6. æ¸…ç©ºè”ç³»äºº  *****" << std::endl;
    std::cout << "*****  0. é€€å‡ºé€šè®¯å½•  *****" << std::endl;
    std::cout << "*************************" << std::endl;
}
```

## é€€å‡ºåŠŸèƒ½

åŠŸèƒ½æè¿°ï¼šé€€å‡ºé€šè®¯å½•ç³»ç»Ÿ

æ€è·¯ï¼šæ ¹æ®ç”¨æˆ·ä¸åŒçš„é€‰æ‹©ï¼Œè¿›å…¥ä¸åŒçš„åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹©switchåˆ†æ”¯ç»“æ„ï¼Œå°†æ•´ä¸ªæ¶æ„è¿›è¡Œæ­å»º

å½“ç”¨æˆ·é€‰æ‹©0çš„æ—¶å€™ï¼Œæ‰§è¡Œé€€å‡ºï¼Œé€‰æ‹©å…¶ä»–å…ˆä¸åšçš„æ“ä½œï¼Œä¹Ÿä¸ä¼šé€€å‡ºç¨‹åº

ä»£ç ï¼š

```c++
int main() {
    int running = 1;
    while(running){
        showMenu();
        int select = 0;
        cin >> select;
        switch (select) {
            // æ·»åŠ è”ç³»äºº
            case 1:
                break;
            // æ˜¾ç¤ºè”ç³»äºº
            case 2:
                break;
            // åˆ é™¤è”ç³»äºº
            case 3:
                break;
            // æŸ¥æ‰¾è”ç³»äºº
            case 4:
                break;
            // ä¿®æ”¹è”ç³»äºº
            case 5:
                break;
            // æ¸…ç©ºè”ç³»äºº
            case 6:
                break;
            // é€€å‡ºé€šè®¯å½•
            case 0:
                cout << "æ¬¢è¿ä¸‹æ¬¡ä½¿ç”¨" << endl;
                running = 0;
                break;
            default:
                cout << "æŒ‡ä»¤è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼" << endl;
        }
    }
    cout << "å†è§ï¼ğŸ‘‹ğŸ‘‹ğŸ‘‹" << endl;
    return 0;
}
```

## æ·»åŠ è”ç³»äºº

åŠŸèƒ½æè¿°ï¼šå®ç°æ·»åŠ è”ç³»äººåŠŸèƒ½ï¼Œè”ç³»äººä¸Šé™ä¸º1000äººï¼Œè”ç³»äººä¿¡æ¯åŒ…æ‹¬ï¼ˆå§“åã€æ€§åˆ«ã€å¹´é¾„ã€è”ç³»ç”µè¯ã€å®¶åº­ä½å€ï¼‰

æ·»åŠ è”ç³»äººå®ç°æ­¥éª¤ï¼š

- è®¾è®¡è”ç³»äººç»“æ„ä½“
- è®¾è®¡é€šè®¯å½•ç»“æ„ä½“
- mainå‡½æ•°ä¸­åˆ›å»ºé€šè®¯å½•
- å°è£…æ·»åŠ è”ç³»äººå‡½æ•°
- æµ‹è¯•æ·»åŠ è”ç³»äººåŠŸèƒ½

### è®¾è®¡è”ç³»äººç»“æ„ä½“

è”ç³»äººä¿¡æ¯åŒ…æ‹¬ï¼šå§“åã€æ€§åˆ«ã€å¹´é¾„ã€è”ç³»ç”µè¯ã€å®¶åº­ä½å€

è®¾è®¡å¦‚ä¸‹ï¼š

```c++
struct Person
{
    // å§“å
    string m_Name;
    // æ€§åˆ«ï¼š1ç”· 2å¥³
    int m_Sex;
    // å¹´é¾„
    int m_Age;
    // ç”µè¯
    string m_Phone;
    // ä½å€
    string m_Addr;
};
```

### è®¾è®¡é€šè®¯å½•ç»“æ„ä½“

è®¾è®¡çš„æ—¶å€™å¯ä»¥åœ¨é€šè®¯å½•ç»“æ„ä½“ä¸­ï¼Œç»´æŠ¤ä¸€ä¸ªå®¹é‡ä¸º1000çš„å­˜æ”¾è”ç³»äººçš„æ•°ç»„ï¼Œå¹¶è®°å½•å½“å‰é€šè®¯å½•ä¸­è”ç³»äººæ•°é‡

è®¾è®¡å¦‚ä¸‹ï¼š

```c++
// è®¾è®¡é€šè®¯å½•çš„ç»“æ„ä½“
struct Addressbooks
{
    // é€šè®¯å½•ä¸­ä¿å­˜çš„è”ç³»äººæ•°ç»„
    struct Person personArray[MAX];

    // é€šè®¯å½•ä¸­å½“å‰è®°å½•è”ç³»äººä¸ªæ•°
    int m_Size;
};
```

### æ·»åŠ è”ç³»äººå‡½æ•°

```c++
// 1ã€æ·»åŠ è”ç³»äºº
void addPerson(struct Addressbooks *abs)
{
    // åˆ¤æ–­é€šè®¯å½•æ˜¯å¦å·²æ»¡ï¼Œå¦‚æœæ»¡äº†å°±ä¸å†æ·»åŠ 
    if (abs -> m_Size >= MAX){
        cout << "é€šè®¯å½•å·²æ»¡ï¼Œæ— æ³•æ·»åŠ ï¼" << endl;
        return;
    } else {
        // æ·»åŠ å…·ä½“è”ç³»äºº
        // å§“å
        string name;
        cout << "è¯·è¾“å…¥å§“åï¼š" << endl;
        cin >> name;
        abs -> personArray[abs->m_Size].m_Name = name;
        // æ€§åˆ«
        int sex;
        while(true){
            cout << "è¯·è¾“å…¥æ€§åˆ«(1:ç”·|2:å¥³)ï¼š" << endl;
            cin >> sex;
            if(sex == 1 || sex == 2){
                abs -> personArray[abs->m_Size].m_Sex = sex;
                break;
            }
            cout << "è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼" << endl;
        }
        // å¹´é¾„
        int age;
        cout << "è¯·è¾“å…¥å¹´é¾„ï¼š" << endl;
        cin >> age;
        abs -> personArray[abs->m_Size].m_Age = age;
        // ç”µè¯
        string phone;
        cout << "è¯·è¾“å…¥ç”µè¯ï¼š" << endl;
        cin >> phone;
        abs -> personArray[abs->m_Size].m_Phone = phone;
        // ä½å€
        string addr;
        cout << "è¯·è¾“å…¥ä½å€ï¼š" << endl;
        cin >> addr;
        abs -> personArray[abs->m_Size].m_Addr = addr;

        // æ›´æ–°é€šè®¯å½•äººæ•°
        abs -> m_Size ++;
        cout << "æ·»åŠ æˆåŠŸï¼" << endl;
        system("clear");
    }
}
```

## æ˜¾ç¤ºè”ç³»äºº

åŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºé€šè®¯å½•ä¸­å·²æœ‰çš„è”ç³»äººä¿¡æ¯

æ˜¾ç¤ºè”ç³»äººå®ç°æ­¥éª¤ï¼š

- å°è£…æ˜¾ç¤ºè”ç³»äººå‡½æ•°
- æµ‹è¯•æ˜¾ç¤ºè”ç³»äººåŠŸèƒ½

### å°è£…æ˜¾ç¤ºè”ç³»äººå‡½æ•°

æ€è·¯ï¼šåˆ¤æ–­å¦‚æœå½“å‰é€šè®¯å½•ä¸­æ²¡æœ‰äººå‘˜ï¼Œå°±æç¤ºè®°å½•ä¸ºç©ºï¼Œäººæ•°å¤§äº0ï¼Œæ˜¾ç¤ºé€šè®¯å½•ä¸­ä¿¡æ¯

æ˜¾ç¤ºè”ç³»äººä»£ç ï¼š

```c++
// 2ã€æ˜¾ç¤ºæ‰€æœ‰è”ç³»äºº
void showPerson(struct Addressbooks *abs) {
    // åˆ¤æ–­é€šè®¯å½•ä¸­äººæ•°æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œæç¤ºè®°å½•ä¸ºç©º
    // å¦‚æœä¸ä¸º0ï¼Œæ˜¾ç¤ºè®°å½•çš„è”ç³»äººä¿¡æ¯
    if (abs -> m_Size == 0){
        cout << "å½“å‰è®°å½•ä¸ºç©ºï¼" << endl;
        return;
    }
    cout << "å§“å\t\tæ€§åˆ«\t\tå¹´é¾„\t\tç”µè¯\t\tä½å€" << endl;
    for (int i = 0; i < abs->m_Size; ++i) {
        cout << abs->personArray[i].m_Name << "\t\t"
             << (abs->personArray[i].m_Sex == 1?"ç”·":"å¥³") << "\t\t"
             << abs->personArray[i].m_Age << "\t\t"
             << abs->personArray[i].m_Phone << "\t\t"
             << abs->personArray[i].m_Addr << endl;
    }
}
```

## åˆ é™¤è”ç³»äºº

åŠŸèƒ½æè¿°ï¼šæŒ‰ç…§å§“åè¿›è¡Œåˆ é™¤æŒ‡å®šè”ç³»äºº

åˆ é™¤è”ç³»äººå®ç°æ­¥éª¤ï¼š

- å°è£…æ£€æµ‹è”ç³»äººæ˜¯å¦å­˜åœ¨
- å°è£…åˆ é™¤è”ç³»äººå‡½æ•°
- æµ‹è¯•åˆ é™¤è”ç³»äººåŠŸèƒ½

### å°è£…æ£€æµ‹è”ç³»äººæ˜¯å¦å­˜åœ¨

è®¾è®¡æ€è·¯ï¼š

åˆ é™¤è”ç³»äººå‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„è”ç³»äººæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ é™¤ï¼Œï¼Œä¸å­˜åœ¨æç¤ºç”¨æˆ·æ²¡æœ‰è¦åˆ é™¤çš„è”ç³»äºº

å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠæ£€æµ‹è”ç³»äººæ—¶å€™å­˜åœ¨å°è£…æˆä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¿”å›è”ç³»äººåœ¨é€šè®¯å½•ä¸­çš„ä½ç½®ï¼Œä¸å­˜åœ¨è¿”å›-1

```c++
// æ£€æµ‹è”ç³»äººæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¿”å›è”ç³»äººæ‰€åœ¨æ•°ç»„ä¸­çš„å…·ä½“ä½ç½®ï¼Œä¸å­˜åœ¨è¿”å›-1
// å‚æ•°1 é€šè®¯å½• å‚æ•°2 å¯¹æ¯”å§“å
int isExist(struct Addressbooks *abs, string name) {
    for (int i = 0; i < abs->m_Size; ++i) {
        if (abs->personArray[i].m_Name == name) {
            return i;
        }
    }
    return -1;
}
```

### å°è£…åˆ é™¤è”ç³»äººå‡½æ•°

æ ¹æ®ç”¨æˆ·è¾“å…¥çš„è”ç³»äººåˆ¤æ–­è¯¥é€šè®¯å½•ä¸­æ˜¯å¦æœ‰æ­¤äºº

æŸ¥æ‰¾åˆ°è¿›è¡Œåˆ é™¤ï¼Œå¹¶æç¤ºåˆ é™¤æˆåŠŸ

æŸ¥ä¸åˆ°æç¤ºæŸ¥æ— æ­¤äºº

ï¼ˆå¯ä»¥å¥—ç”¨ä¸Šé¢çš„æ·»åŠ è”ç³»äººï¼Œä¿®æ”¹ä¸‹æ ‡å’Œéƒ¨åˆ†æç¤ºä¿¡æ¯ï¼‰

```c++
// 3ã€åˆ é™¤æŒ‡å®šè”ç³»äºº
void deletePerson(Addressbooks *abs){
    cout << "è¯·è¾“å…¥æ‚¨è¦åˆ é™¤çš„è”ç³»äºº" << endl;
    string name;
    cin >> name;

    // ret == -1 æœªæŸ¥åˆ°
    // ret != -1 æŸ¥åˆ°äº†
    int ret = isExist(abs, name);
    if (ret == -1){
        cout << "æŸ¥æ— æ­¤äºº" << endl;
    } else {
        for (int i = ret; i < abs -> m_Size; ++i) {
            abs -> personArray[i] = abs -> personArray[i + 1];
        }
        abs -> m_Size--;
        cout << "åˆ é™¤æˆåŠŸï¼" << endl;
    }
}
```

## æŸ¥æ‰¾è”ç³»äºº

åŠŸèƒ½æè¿°ï¼šæŒ‰ç…§å§“åæŸ¥çœ‹æŒ‡å®šè”ç³»äººä¿¡æ¯

æŸ¥æ‰¾è”ç³»äººå®ç°æ­¥éª¤

- å°è£…æŸ¥æ‰¾è”ç³»äººå‡½æ•°
- æµ‹è¯•æŸ¥æ‰¾ç½®é¡¶è”ç³»äºº

### å°è£…æŸ¥æ‰¾è”ç³»äººå‡½æ•°

å®ç°æ€è·¯ï¼šåˆ¤æ–­ç”¨æˆ·æŒ‡å®šçš„è”ç³»äººæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œä¸å­˜åœ¨åˆ™æç¤ºæŸ¥æ— æ­¤äººã€‚

æŸ¥æ‰¾è”ç³»äººä»£ç ï¼š

```c++
// 4ã€æŸ¥æ‰¾æŒ‡å®šè”ç³»äººä¿¡æ¯
void findPerson(struct Addressbooks * abs)
{
    cout << "è¯·è¾“å…¥æ‚¨è¦æŸ¥æ‰¾çš„è”ç³»äºº" << endl;
    string name;
    cin >> name;

    int ret = isExist(abs, name);
    if (ret == -1){
        cout << "æŸ¥æ— æ­¤äºº" << endl;
    } else {
        cout << abs->personArray[ret].m_Name << "\t\t"
             << (abs->personArray[ret].m_Sex == 1 ? "ç”·" : "å¥³") << "\t\t"
             << abs->personArray[ret].m_Age << "\t\t"
             << abs->personArray[ret].m_Phone << "\t\t"
             << abs->personArray[ret].m_Addr << endl;
    }
}
```

## ä¿®æ”¹è”ç³»äºº

åŠŸèƒ½æè¿°ï¼šæŒ‰ç…§å§“åé‡æ–°ä¿®æ”¹æŒ‡å®šè”ç³»äºº

ä¿®æ”¹è”ç³»äººå®ç°æ­¥éª¤

- å°è£…ä¿®æ”¹è”ç³»äººå‡½æ•°
- æµ‹è¯•ä¿®æ”¹è”ç³»äººåŠŸèƒ½

### å°è£…ä¿®æ”¹è”ç³»äººå‡½æ•°

å®ç°æ€è·¯ï¼šæŸ¥æ‰¾ç”¨æˆ·è¾“å…¥çš„è”ç³»äººï¼Œå¦‚æœæŸ¥æ‰¾æˆåŠŸè¿›è¡Œä¿®æ”¹æ“ä½œï¼ŒæŸ¥æ‰¾å¤±è´¥æç¤ºæŸ¥æ— æ­¤äºº

ä¿®æ”¹è”ç³»äººä»£ç ï¼š

```c++
// 5ã€ä¿®æ”¹æŒ‡å®šè”ç³»äºº
void modifyPerson(struct Addressbooks *abs)
{
    cout << "è¯·è¾“å…¥æ‚¨è¦ä¿®æ”¹çš„è”ç³»äºº" << endl;
    string name;
    cin >> name;
    int ret = isExist(abs, name);
    if (ret == -1){
        cout << "æŸ¥æ— æ­¤äºº" << endl;
    } else {
        // æ·»åŠ å…·ä½“è”ç³»äºº
        // å§“å
        string name;
        cout << "è¯·è¾“å…¥å§“åï¼š" << endl;
        cin >> name;
        abs->personArray[ret].m_Name = name;
        // æ€§åˆ«
        int sex;
        while (true) {
            cout << "è¯·è¾“å…¥æ€§åˆ«(1:ç”·|2:å¥³)ï¼š" << endl;
            cin >> sex;
            if (sex == 1 || sex == 2) {
                abs->personArray[ret].m_Sex = sex;
                break;
            }
            cout << "è¾“å…¥æœ‰è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼" << endl;
        }
        // å¹´é¾„
        int age;
        cout << "è¯·è¾“å…¥å¹´é¾„ï¼š" << endl;
        cin >> age;
        abs->personArray[ret].m_Age = age;
        // ç”µè¯
        string phone;
        cout << "è¯·è¾“å…¥ç”µè¯ï¼š" << endl;
        cin >> phone;
        abs->personArray[ret].m_Phone = phone;
        // ä½å€
        string addr;
        cout << "è¯·è¾“å…¥ä½å€ï¼š" << endl;
        cin >> addr;
        abs->personArray[ret].m_Addr = addr;

        cout << "ä¿®æ”¹æˆåŠŸï¼" << endl;
    }
}
```

## æ¸…ç©ºè”ç³»äºº

åŠŸèƒ½æè¿°ï¼šæ¸…ç©ºé€šè®¯å½•ä¸­æ‰€æœ‰ä¿¡æ¯

æ¸…ç©ºè”ç³»äººå®ç°æ­¥éª¤

- å°è£…æ¸…ç©ºè”ç³»äººå‡½æ•°
- æµ‹è¯•æ¸…ç©ºè”ç³»äºº

### å°è£…æ¸…ç©ºè”ç³»äººå‡½æ•°

å®ç°æ€è·¯ï¼šå°†é€šè®¯å½•æ‰€æœ‰è”ç³»äººä¿¡æ¯æ¸…é™¤æ‰ï¼Œåªè¦å°†é€šè®¯å½•è®°å½•çš„è”ç³»äººæ•°é‡ç½®ä¸º0ï¼Œåšé€»è¾‘æ¸…ç©ºå³å¯ã€‚

æ¸…ç©ºè”ç³»äººä»£ç ï¼š

```c++
// 6ã€æ¸…ç©ºæ‰€æœ‰è”ç³»äºº
void cleanPerson(struct Addressbooks *abs)
{
    // å°†å½“å‰è®°å½•çš„è”ç³»äººæ•°é‡ç½®ä¸º0ï¼Œåšé€»è¾‘ä¸Šçš„æ¸…ç©ºæ“ä½œ
    abs->m_Size = 0;
    cout << "é€šè®¯å½•å·²æ¸…ç©º" << endl;

}
```
